# Jihankiクラス説明 #

## 1.概要 ##

  * VendingMachineが飲み物・在庫クラスを基に実際に商品を販売するクラス

## 2.機能概要 ##

  * 取り扱う飲み物の販売

  * 購入者が投入した金銭を管理

## 3.機能紹介 ##

公開
```
  * initialize
        - 自販機の投入金額を0円にする。
        - Inventoryクラスのインスタンスを生成し、初期状態で在庫を5本として格納する。（addメソッドの第2引数）
        ※この際、Drinkクラスのインスタンスを生成し、コーラという名前の、120円の商品を格納することを定義している。（addメソッドの第1引数）

  * slot_money(money)
        金銭の投入処理。
        扱えないお金が投入された場合、そのまま出力。

  * return_money
        払い戻し操作
        投入金額を釣り銭として返す。
        自販機の投入金額を0円にする。

  * can_buy?(item)
        投入金額、在庫の点で商品(item)が購入できるかどうかを取得する。

  * purchase(item)
        ジュースの価格以上の投入金額が投入されている条件下で購入操作を行うと、ジュースの在庫を減らし、売上金額を増やす。
```

公開（参照系）
```
 * stock
        在庫を返却

  * current_slot_money
        現在の投入金額を返却

  * stock_drink
        格納されている飲み物の情報を返却

  * total_sales
        現在の売上金額を返却
```

private
```
  * lamp(items)
        引数で与えられた商品の配列を購入者に分かりやすいように視覚的に表示
        また、投入金額を明示することで、購入者がその次の処理を選択しやすいようにする（お金の追加投入or商品の購入or払い戻しなど）
```

# Drinkクラス説明 #

## 1.概要 ##

  * VendingMachineで販売する飲み物クラス

## 2.機能概要 ##

### 2.1 取り扱う飲み物の**価格表**（種別/名称/価格）を管理（クラスメソッド） ###

公開（参照系）
```
  * Drink::Kind
        種別の別名（COLA=1, REDBULL=2, WATER=3）

  * Drink::master
        価格表を出力

  * Drink::price(kind)
        指定された種別の価格を返却

  * Drink::name(kind)
        指定された種別の名前を返却

  * Drink::present?(kind)
        指定された種別の価格表登録有無を返却
```

公開（更新系）
```
  * Drink::insert(kind, name, price)
        あたらしい飲み物を価格表に追加

  * Drink::update(kind, name: name="unspecified", price: price=-1)
        指定された種別の名称/価格を更新, ☆更新対象をキーワード引数で指定する
        （使用例）Drink::update(Drink::Kind::COLA, name: "coke")

  * Drink::destroy(kind)
        指定された種別の名称/価格を更新
```


### 2.2 個々の飲み物情報を管理（インスタンスメソッド） ###

公開
```
  * initialize(kind, name='', price='')
        - 指定された種別の飲み物を指定された名称、価格で初期化
        - 価格表に登録済の種別は、名称/価格不要でインスタンス化される
        （使用例1）cola = Drink::new(Drink::Kind::COLA)
        （使用例2) milk = Drink::new(10, "milk", 150)
        【（今後実装検討）
        ☆登録されていない種別を指定すると例外クラスを返却し, インスタンスは生成されない】

  * kind
        種別を返却

  * name
        名前を返却

  * price
        価格を返却
```

# Inventoryクラス説明 #
## 1.概要 ##

  * VendingMachineの在庫クラス

## 2.機能概要 ##

  * 取り扱う飲み物の在庫（種別/本数）を管理

  * 取り扱う飲み物の売上（種別/本数/売上金額）を管理

## 3.機能紹介 ##

公開

```
  * initialize
        インスタンス生成

  * add(drink_obj, num)
        在庫の追加

  * pull(kind, num)
        在庫の払い出し

  * pull_one(kind)
        在庫の払い出し（１つ）

  * to_s
        在庫情報を文字列で返す

  * reset_sales
        売り上げの回収

  * available_items(input_money)
        引数で渡された投入金額と在庫の点から購入可能な種別を配列で返却

  * can_buy?(kind, input_money)
        引数で与えられた金額で, 引数で与えられた名前の飲み物が購入できるかどうかを取得
        購入できる場合は購入可能本数とお釣りを配列で返却, 購入できない場合は0を返却
        (例1）投入金額800円, コーラの金額120円, 在庫数12本 => 戻り値 (6, 80)
        (例2）投入金額800円, コーラの金額120円, 在庫数4本 => 戻り値 (4, 320)

```
